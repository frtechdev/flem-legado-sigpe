<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    template="/template/padrao.xhtml">

    <ui:define name="centro">
        <h:form>
            <p:fieldset legend="Nova Notificação" style="margin-top: 10px;">
                <p:panelGrid>
                    <p:row>
                        <p:column>
                            <h:outputLabel value="Data Limite:" />
                        </p:column>
                        <p:column>  
                            <p:calendar id="dataLimite" value="#{notificacaoNovaMB.notificacao.dataLimite}" showTodayButton="true" showButtonPanel="true" locale="pt_BR" pattern="dd/MM/yyyy HH:mm" timeInput="true"/>
                            <p:message for="dataLimite"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputLabel value="Usuário notificado:" />
                        </p:column>
                        <p:column>
                            <p:selectOneMenu value="#{notificacaoNovaMB.notificacao.usuarioNotificado}" id="usuarioNotificado" filter="true">
                                <f:selectItem itemValue="" itemLabel="Selecione o usuário"/>
                                <f:selectItems value="#{notificacaoNovaMB.obterUsuariosComAcessoAoAplicativo()}" var="usuario" itemValue="#{usuario.codigoDominio}" itemLabel="#{usuario.nome}" />
                            </p:selectOneMenu>
                            <p:message for="usuarioNotificado"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputLabel value="Mensagem" />
                        </p:column>
                        <p:column>
                            <p:inputTextarea id="mensagem" value="#{notificacaoNovaMB.notificacao.mensagem}"/>
                            <p:message for="mensagem"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <h:outputLabel value="Urgente" />
                        </p:column>
                        <p:column>
                            <p:selectBooleanCheckbox id="urgente" value="#{notificacaoNovaMB.notificacao.urgente}" />
                            <p:message for="urgente"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="2">
                            <p:commandButton value="Salvar" action="#{notificacaoNovaMB.salvar()}" update="@form :mensagens"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </p:fieldset>
        </h:form>
    </ui:define>
</ui:composition>
